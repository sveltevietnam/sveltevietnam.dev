.shiki {
	padding-inline: 0;

	& code {
		display: inline-block;
		min-width: 100%;
	}

	& .line {
		--padding-inline-start: 1ch;
		--padding-inline-end: 3ch;

		display: inline-block;
		width: 100%;
		padding-inline-start: var(--padding-inline-start);
		padding-inline-end: var(--padding-inline-end);

		&::before {
			content: attr(data-line);

			display: inline-block;

			width: 4ch;
			margin-right: 3ch;

			font-variant-numeric: tabular-nums;
			color: currentcolor;
			text-align: right;

			opacity: 0.5;
		}

		&[data-line-diff] {
			display: inline-block;
			width: 100%;

			&::after {
				position: absolute;
				left: 1ch;
				display: inline-block;
			}

			&:where([data-line-diff='+']) {
				background-color: hsl(123.04deg 36.07% 42.94% / 15%);

				&::after {
					content: '+';
				}
			}

			&:where([data-line-diff='-']) {
				background-color: hsl(3.12deg 74.76% 59.61% / 10%);

				&::after {
					content: '-';
				}
			}
		}

		&[data-line-highlighted] {
			display: inline-block;
			width: 100%;

			&:where([data-line-highlighted='info']) {
				background-color: hsl(215deg 39% 18%);
			}

			&:where([data-line-highlighted='success']) {
				background-color: hsl(123deg 36% 43% / 15%);
			}

			&:where([data-line-highlighted='warning']) {
				background-color: hsl(43deg 100% 50% / 15%);
			}

			&:where([data-line-highlighted='error']) {
				background-color: hsl(3.12deg 74.76% 59.61% / 10%);
			}
		}
	}
}
